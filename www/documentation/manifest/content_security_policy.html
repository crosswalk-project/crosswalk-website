<!DOCTYPE html>
<html id="top" lang="en-us">
  <head>
    <meta charset="utf-8">
    <title>The Crosswalk Project</title>
    <link rel="shorcut icon" href="/assets/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
    <script>
      WebFontConfig = {
        custom: {
          families: ['Clear Sans'],
          urls: ['/css/fonts.css']
        },
        google: {
          families: ['Source Code Pro:n4,n6']
        },
        timeout: 2000
      };
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script async defer src="//ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js"></script>
    <link rel="stylesheet" href="/css/main.css">

    <meta name="description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="author" content="Crosswalk" />
    <meta name="handheldfriendly" content="true" />
    <meta name="mobileoptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="cleartype" content="on" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Facebook -->
    <meta property="og:side_name" content="Crosswalk" />
    <meta property="og:title" content="Content security policy" />
    <meta property="og:url" content="http://crosswalk-project.org/documentation/manifest/content_security_policy" />
    <meta property="og:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta property="og:image" content="/assets/crosswalk-og-banner.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:url" content="http://crosswalk-project.org/documentation/manifest/content_security_policy" />
    <meta name="twitter:title" content="Content security policy" />
    <meta name="twitter:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="twitter:site" content="@xwalk_project" />

    <!-- Relevant original Crosswalk Project JS -->
    <script src="/js/utils.js"></script>
    <script src="/js/xwalk.js"></script>
    <script src="/js/versions.js"></script>
    <script src="/js/demos.js"></script>
    <script src="/js/testimonials.js"></script>
    <script src="/js/tools.js"></script>
    <script src="/js/qualityindicators.js"></script>
  </head>
  <body>
    <!-- If curr page named 'index' and less than 2 dirs deep,
         do custom layouts. (home screen, blog, app-mgmt page)
         Else, provide doc header and nav. -->
    
    <div class="container">
      <div class="doc-header">
        

  

  <div class="doc-logo-div">
     <a href="/" class="doc-logo-link">
       <img src="/assets/identity/crosswalkproject-logo-horizontal-dark.png" class="doc-logo-img">
     </a>
  </div>
  <div class="doc-nav-div">
    <ul class="doc-nav-list">
      <li class="doc-nav-item">
        <a href="/documentation/getting_started.html" class="doc-nav-link">Documentation</a>
      </li>
      <li class="doc-nav-item">
        <a href="/blog" class="doc-nav-link">Blog</a>
      </li>
      <li class="doc-nav-item">
        <a href="/contribute" class="doc-nav-link">Contribute</a>
      </li>
      <li class="doc-nav-item">
        <a href="https://github.com/crosswalk-project/crosswalk-website/wiki" class="doc-nav-link">Wiki</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/documentation/about/faq.html" class="doc-nav-link">FAQ</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/documentation/getting_started.html" class="doc-nav-link" style="border:1px solid #ec543b;padding:8px;color:#ec543b;" >get started</a>
      </li>
    </ul>
  </div>
  

      </div>
      <br />
      <div class="doc-main">
        <div class="row">
          
          
<nav id="contents" class="article-toc nav-toggleContainer">
  <a href="#contents" id="contents-toggle" class="button button--small button--tertiary nav-toggle">Table of Contents</a>
  <a href="./#contents-toggle" class="button button--small button--tertiary nav-toggle--dummy">Table of Contents</a>
  <ul class="article-list nav-toggleHide">
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/about.html">About</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/getting_started.html">Getting Started</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/android.html">Android</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/ios.html">iOS</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/windows.html">Windows</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/linux.html">Linux</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/cordova.html">Cordova</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/tizen.html">Tizen</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/manifest.html">Manifest</a>

         

         <ul class="article-list">
            
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/using_the_manifest.html">Using the manifest</a>

             
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/entry_points.html">Entry points</a>

             
           </li>
           
           <li class="article-item  nav-item--active">
             <a class="article-link" href="/documentation/manifest/content_security_policy.html">Content security policy</a>

             
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/display.html">Display</a>

             
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/icons.html">Icons</a>

             
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/launch_screen.html">Launch screen</a>

             
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/orientation.html">Orientation</a>

             
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/permissions.html">Permissions</a>

             
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/xwalk_hosts.html">xwalk hosts</a>

             
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/manifest/other_fields.html">Other fields</a>

             
           </li>
           
         </ul>
         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/apis.html">APIs</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/downloads.html">Downloads</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/shared_mode.html">Shared Mode</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/crosswalk_lite.html">Crosswalk Lite</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/tutorials.html">Tutorials</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/samples.html">Samples</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/community.html">Community</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/qa.html">Quality Assurance</a>

         
       </li>
    
  </ul>

</nav>



<article class="article article--hasToC">
  <h1>Content security policy</h1>
<p>The content security policy field specifies which types of content can be loaded and executed by the application. </p>
<p>If this field is not set, no content security policy is enforced. By default, this means that a Crosswalk application can load scripts and objects from any host (via <code>&lt;script&gt;</code>, <code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code> and <code>&lt;applet&gt;</code> elements).</p>
<p>The suggested default value to provide minimal protection is:</p>
<pre><code>&quot;csp&quot;: &quot;script-src &#39;self&#39;; object-src &#39;self&#39;&quot;</code></pre>
<p>This restricts the application to using only JavaScripts (loaded via <code>&lt;script&gt;</code> elements) and objects (loaded via <code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code>, and <code>&lt;applet&gt;</code> elements) from its own origin (i.e. distributed as part of the application, in the case of Crosswalk). It also implicitly applies other constraints, such as preventing the execution of inline scripts, and disabling <code>eval()</code> and other unsafe functions (see the next section).</p>
<p>See Google&#39;s <a href="https://developer.chrome.com/extensions/contentSecurityPolicy">Content Security Policy (CSP)</a> page for some examples of the types of policy which can be set; <a href="http://www.w3.org/TR/CSP/">the full specification</a>, albeit for the HTTP headers variant of CSP, is also available.</p>
<h2>When to change the content security policy</h2>
<p>You only need to change the content security policy settings if you want to tighten your application&#39;s security: as stated above, Crosswalk does not enforce content security unless you explicitly set the <code>csp</code> field.</p>
<p>If you do decide to tighten your application&#39;s security and set a content security policy, you may find that the policy is <em>too</em> tight. In this case, you may need to loosen some of its constraints. The list below gives a few examples of setting a content security policy, but loosening it under specific conditions.</p>
<ul>
<li><p><strong>Enable the application to load scripts from a restricted range of remote hosts</strong></p>
<p>In some cases, you may want to load a remote resource into a Crosswalk application: for example, load a resource from a content delivery network in an HTML page:</p>
<pre><code>&lt;script src=&quot;http://cdn.crosswalk-project.org/utils.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>At the same time, you may want to tighten Crosswalk&#39;s security to restrict the application to loading scripts <em>only</em> from that domain and from the app. (The default Crosswalk configuration allows loading scripts from any remote host.)</p>
<p>In these cases, you can explicitly specify the CSP, whitelisting resources from the application itself and from known domains:</p>
<pre><code>&quot;csp&quot;: &quot;script-src &#39;self&#39; https://cdn.crosswalk-project.org/; object-src &#39;self&#39;&quot;</code></pre>
<p>This only allows scripts to be downloaded from the application itself or from <code>https:\/\/cdn.crosswalk-project.org/</code>. Note that you can only use arbitrary URLs with the &quot;https://&quot; scheme; or &quot;http://&quot; URLs which refer to &quot;localhost&quot; or &quot;127.0.0.1&quot;. The latter may be useful if you have your own server running on the same machine as the application.</p>
</li>
<li><p><strong>Enable the use of <code>eval()</code> inside scripts</strong></p>
<p>The following CSP (recommended above as the minimum policy):</p>
<pre><code>&quot;csp&quot;: &quot;script-src &#39;self&#39;; object-src &#39;self&#39;&quot;</code></pre>
<p>disables the use of &quot;unsafe&quot; JavaScript. This means that any calls to <code>eval()</code> will not be allowed.</p>
<p>In most cases, the recommendation is to avoid <code>eval()</code> <strong>at all costs</strong>, as it can be a vector for Cross-Site Scripting attacks. These can be particularly dangerous in the context of an application which has privileged access to system resources (the way a Crosswalk application does).</p>
<p>However, you may find yourself in a situation where you are trying to use a third party library which depends on <code>eval()</code>; or in a situation where using <code>eval()</code> is the most sensible and pragmatic solution. In these situations, you may decide that it is appropriate to relax the content security policy to allow <code>eval()</code> to be invoked.</p>
<p>You can allow the use of <code>eval()</code> by adding <code>&#39;unsafe-eval&#39;</code> to the CSP, as follows:</p>
<pre><code>&quot;csp&quot;: &quot;script-src &#39;self&#39; &#39;unsafe-eval&#39;; object-src &#39;self&#39;&quot;</code></pre>
</li>
<li><p><strong>Enable inline JavaScript</strong></p>
<p>In some situations, you may want to incorporate inline JavaScript in an HTML file via <code>&lt;script&gt;</code> elements. For example:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;my app&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;div id=&quot;content&quot;&gt;&lt;/div&gt;

    &lt;!-- this is the inline script --&gt;
    &lt;script&gt;
    document.addEventListener(&#39;DOMContentLoaded&#39;, function () {
      var elt = document.querySelector(&#39;#content&#39;);
      elt.innerHTML = &#39;&lt;p&gt;Hello world&lt;/p&gt;&#39;;
    });
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>This is usually not necessary, as you can often put the script into an external file instead and reference it via the <code>src</code> attribute:</p>
<pre><code>&lt;script src=&quot;myscript.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>But there are occasionally cases where you may want to inline a script (e.g. for performance reasons).</p>
<p>If you have inline JavaScript and have specified a <code>csp</code>, you may find that you get this warning:</p>
<pre><code>Refused to execute inline script because it violates the following
Content Security Policy directive: &quot;script-src &#39;self&#39;&quot;. Either
the &#39;unsafe-inline&#39; keyword, a hash (&#39;sha256-...&#39;), or a
nonce (&#39;nonce-...&#39;) is required to enable inline execution.</code></pre>
<p>The quickest solution is to add the <code>&#39;unsafe-inline&#39;</code> keyword:</p>
<pre><code>&quot;csp&quot;: &quot;script-src &#39;self&#39; &#39;unsafe-inline&#39;; object-src &#39;self&#39;&quot;</code></pre>
<p>Inline scripts should now execute.</p>
</li>
</ul>

  <footer class="article-next">
    

  
  
    
    
  
    
    
  
    
    
      
    
  
    
    
      
      <a href="/documentation/manifest/display.html" class="article-promo well">
        <em>What’s next?</em>
        <h3>Display</h3>
      </a>
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


  </footer>
</article>

          
        </div>
      </div>
    </div>
    

    <hr class="footer-divider" style="margin-top:125px; margin-bottom:0px" />
    <div style="position:relative; top:-30px;">
       <a href="/"><img src="/assets/cw-logo-circle.png" width="60px" style="display:block; margin: 0 auto;" /></a>
    </div>
    <footer class="footer footer--documentation" >
      <div class="container" >
        <div class="row">
          <div  class="footer-div">
            <img src="/assets/Twitter_logo_blue.png" width="20px" /> Follow  <a href="http://twitter.com/xwalk_project">@xwalk_project on Twitter</a> for the latest developer activities and project updates.
          </div>
          <div class="footer-div">
             Latest blog post:</br>
              
              
                <b><a href="/blog">Introducing Crosswalk Project Extensions for Intel® RealSense™ Technology</a></b><br/>
                &nbsp;(<span ><time class="js-vagueTime" datetime="Tue, 23 Feb 2016 00:00:00 GMT">2016-02-23T00:00</time></span>)
              
              <br/>
           </div>
          <div class="footer-div">
              <strong><a href="/feed.xml"><img src="/assets/rss-icon-16.gif" style="vertical-align:middle" /> RSS Feed</a></strong>
          </div>
          <div class="footer-div">
             <a href="/documentation">Documentation</a> &nbsp;
             <a href="/blog">Blog</a> &nbsp;
             <a href="/documentation/downloads.html">Downloads</a> <br />
             <a href="https://crosswalk-project.org/jira/secure/Dashboard.jspa">Issues</a> &nbsp;
             <a href="https://github.com/crosswalk-project">GitHub source</a> &nbsp;
             <a href="/sitemap.html">Sitemap</a> <br/>
          </div>
        </div>
        <div class="row">
            <small>
              The Crosswalk Project was created by the Intel Open Source Technology Center. Copyright © 2013–2016 Intel Corporation. All rights reserved. <a href="https://github.com/crosswalk-project/crosswalk-website/wiki/Privacy-Policy">Privacy policy</a>. *Other names and brands may be claimed as the property of others.
            </small>
        </div>
      </div>
    </footer>

    
    
      <!-- Google Tag Manager -->
      <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WC843Q"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-WC843Q');</script>
      <!-- End Google Tag Manager -->
    
    <script src="/js/smoothScroll.js"></script>
    <script src="/js/vagueTime.js"></script>
    <!-- <script async defer src="/js/trmix.js"></script> -->
  </body>
</html>
