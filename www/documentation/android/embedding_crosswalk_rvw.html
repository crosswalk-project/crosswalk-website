<!DOCTYPE html>
<html id="top">
  <head>
    <meta charset="utf-8">
    <title>The Crosswalk Project</title>
    <link rel="shorcut icon" href="/assets/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
    <script>
      WebFontConfig = {
        custom: {
          families: ['Clear Sans'],
          urls: ['/css/fonts.css']
        },
        google: {
          families: ['Source Code Pro:n4,n6']
        },
        timeout: 2000
      };
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script async defer src="//ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js"></script>
    <link rel="stylesheet" href="/css/main.css">

    <meta name="description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="author" content="Crosswalk" />
    <meta name="handheldfriendly" content="true" />
    <meta name="mobileoptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="cleartype" content="on" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Facebook -->
    <meta property="og:side_name" content="Crosswalk" />
    <meta property="og:title" content="Crosswalk" />
    <meta property="og:url" content="http://crosswalk-project.org/documentation/android/embedding_crosswalk_rvw" />
    <meta property="og:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta property="og:image" content="/assets/crosswalk-og-banner.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:url" content="http://crosswalk-project.org/documentation/android/embedding_crosswalk_rvw" />
    <meta name="twitter:title" content="Crosswalk" />
    <meta name="twitter:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="twitter:site" content="@xwalk_project" />

    <!-- Relevant original Crosswalk Project JS -->
    <script src="/js/utils.js"></script>
    <script src="/js/xwalk.js"></script>
    <script src="/js/versions.js"></script>
    <script src="/js/demos.js"></script>
    <script src="/js/testimonials.js"></script>
    <script src="/js/tools.js"></script>
    <script src="/js/qualityindicators.js"></script>
    <script src="/js/i18n.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <!-- If curr page named 'index' and less than 2 dirs deep,
         do custom layouts. (home screen, blog, app-mgmt page)
         Else, provide doc header and nav. -->
    
    <div class="container">
      <div class="doc-header">
        


  <div class="doc-logo-div">
     <a href="/" class="doc-logo-link">
       <img src="/assets/identity/crosswalkproject-logo-horizontal-dark.png" class="doc-logo-img">
     </a>
  </div>
  <div class="doc-nav-div">
    <ul class="doc-nav-list">
      <li class="doc-nav-item">
        <a href="/documentation/getting_started.html" class="doc-nav-link">Documentation</a>
      </li>
      <li class="doc-nav-item">
        <a href="/blog" class="doc-nav-link">Blog</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/contribute" class="doc-nav-link">Contribute</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="https://github.com/crosswalk-project/crosswalk-website/wiki" class="doc-nav-link">Wiki</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/documentation/about/faq.html" class="doc-nav-link">FAQ</a>
      </li>
      <li class="doc-nav-item">
	<span class="i18n-label" id="i18n-label">
	  <span id="i18n-inner">
	    <img src="/assets/i18n-globe.png" class="i18n-globe" />
	    English
	    <img src="/assets/i18n-arrow.png" class="i18n-arrow"/>
	  </span>
	  <div id="i18n-menu" class="i18n-menu i18n-menu-light">
            <a onclick="switchLanguage('English')">English</a>
            <a onclick="switchLanguage('Chinese')">中文版</a>
	  </div>
	</span>
      </li>
    </ul>
  </div>
  

      </div>
      <br />
      <div class="doc-main">
        <div class="row">
          
          <div id="translation-missing-toaster">
  <p style="padding:10px"> 抱歉，该网页目前还不存在中文版本，请继续浏览其他网页！ </p>
</div>

          



<nav id="contents" class="article-toc nav-toggleContainer">
  <a href="#contents" id="contents-toggle" class="button button--small button--tertiary nav-toggle">Table of Contents</a>
  <a href="./#contents-toggle" class="button button--small button--tertiary nav-toggle--dummy">Table of Contents</a>
  <ul class="article-list nav-toggleHide">
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/about.html">About</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/getting_started.html">Getting Started</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/crosswalk-app-tools.html">Crosswalk App Tools</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/android.html">Android</a>
        
            <ul class="article-list">
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/system_setup.html">System setup</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/build_an_application.html">Build an application</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/run_on_android.html">Run on Android</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/android_remote_debugging.html">Remote debugging</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/deploy_to_android_store.html">Deploy to Android store</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/android_64bit.html">64-bit Support</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/android_extensions.html">Android extensions</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/embedding_crosswalk.html">Embedding Crosswalk</a>
                
              </li>
            
            </ul>
          
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/ios.html">iOS</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/windows.html">Windows</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/linux.html">Linux</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/cordova.html">Cordova</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/tizen.html">Tizen</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/manifest.html">Manifest</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/apis.html">APIs</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/downloads.html">Downloads</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/shared_mode.html">Shared Mode</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/download_mode.html">Download Mode</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/crosswalk_lite.html">Crosswalk Lite</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/tutorials.html">Tutorials</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/samples.html">Samples</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/community.html">Community</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/qa.html">Quality Assurance</a>
        
        </li>
    
  </ul>

</nav>

<article class="article article--hasToC">
  <h1>Embedding the Crosswalk Project</h1>
<p>The Crosswalk Project embedding API enables you to embed the Crosswalk Project runtime in an Android application. You can then load a web page (or whole web application) into the embedded runtime, similar to how you might with an Android <a href="http://developer.android.com/guide/webapps/webview.html">WebView</a>.</p>
<p>Using the embedding API is only recommended for cases where you have a substantial amount of Java code in your application, but want to write the UI (or parts of the UI) using web technologies. If you just need a runtime wrapper for a web application, there are two simpler options for deploying to Android with Crosswalk:</p>
<ul>
<li><a href="/documentation/android/build_an_application.html">Use the default Crosswalk packaging tools</a> to generate an Android package for your web application.</li>
<li><a href="/documentation/cordova.html">Use Cordova with Crosswalk</a>: that way, you get de facto standard device APIs, as well as advanced web APIs, but can still mostly build your application using web technologies.</li>
</ul>
<p>To follow the tutorial, you&#39;ll need to be familiar with Android development, including <a href="http://developer.android.com/sdk/index.html">Android Studio</a>.  The tutorial steps were tested on Linux (Ubuntu 14.04), but should be adaptable to other platforms and operating systems (e.g. Windows).  By the end of the tutorial, you will be able to develop Android applications which embed the Crosswalk runtime.</p>
<h2>Prerequisites</h2>
<h3>Set up the host and target</h3>
<p>Before using the embedding API, ensure you have <a href="/documentation/android/system_setup.html">set up your host environment for Android development</a>.</p>
<p>You will also need to set up an Android target to deploy the application to, as described on the <a href="/documentation/android/android_target_setup.html">Android target setup page</a>.</p>
<h3>Download the Crosswalk webview bundle</h3>
<p><a class="button" id="main-downloads-button" href="/documentation/downloads.html">Download</a></p>
<p>Note that the webview is architecture specific, so you will need to build multiple version for ARM, x86, and 64-bit devices. Beyond that, there is also a shared version which is architecture independent. Please download it If you want to build the app with shared mode or download mode. About each running mode of Crosswalk Project runtime, please refer to <a href="/documentation/shared_mode.html">this page</a> for more details.</p>
<p>Each webview bundle contains two components:</p>
<ul>
<li>A library project for ADT users</li>
<li>An AAR file for Android Studio users</li>
</ul>
<h2>Create an application project with the embedding API</h2>
<h3>Create an Android application with ADT</h3>
<ol>
<li><p>Select <em>File</em> &gt; <em>New</em> &gt; <em>New Project</em>.
Fill in the <em>New Project</em> panel as follows:</p>
<ul>
<li><em>Application Name</em>: MyApplication</li>
<li><em>Company Domain</em>: xwalk.org</li>
<li><p><em>Project location</em>: choose the location you want to place your project</p>
<p>It should look like this:</p>
<p><img src="/assets/embedding-api1.png" style="display: block; margin: 0 auto"/></p>
<p>Click <em>Next</em>.</p>
</li>
</ul>
</li>
<li><p>In the <em>Target Android Devices</em> panel, set the minimum SDK version. Currently the Crosswalk Project runtime supports 4.1 and above.</p>
<p><img src="/assets/embedding-api2.png" style="display: block; margin: 0 auto"/></p>
<p>Click <em>Next</em>.</p>
</li>
<li><p>In the <em>Add an activity to Mobile</em> panel, select <em>Blank Activity</em>:</p>
<p><img src="/assets/embedding-api3.png" style="display: block; margin: 0 auto"/></p>
<p>Click <em>Next</em>.</p>
</li>
<li><p>Fill in the <em>Customize the Activity</em> panel as follows:</p>
<ul>
<li><em>Activity Name</em>: MainActivity</li>
<li><em>Layout Name</em>: activity_main</li>
<li><em>Title</em>: MainActivity</li>
<li><em>Menu Resource Name</em>: menu_main</li>
</ul>
<p>It should look like this:</p>
<p><img src="/assets/embedding-api4.png" style="display: block; margin: 0 auto"/></p>
<p>Click <em>Finish</em>.</p>
</li>
</ol>
<h3>Import the Crosswalk webview project into Android Studio</h3>
<ol>
<li><p>Select <em>File</em> &gt; <em>Project Structure</em></p>
<p><img src="/assets/embedding-api5.png" style="display: block; margin: 0 auto"/></p>
<p>Click the + button at the top-left corner.</p>
</li>
<li><p>In the <em>New Module</em> panel, select <em>Import .JAR/.AAR Package</em></p>
<p><img src="/assets/embedding-api6.png" style="display: block; margin: 0 auto"/></p>
<p>Click <em>Next</em>.</p>
</li>
<li><p>In the <em>Create New Module</em> panel, choose <code>xwalk_core_library.aar</code> from the unzipped Crosswalk webview bundle you downloaded. If you use the shared version of the Crosswalk Project runtime, choose <code>xwalk_shared_library.aar</code>.</p>
<p><img src="/assets/embedding-api7.png" style="display: block; margin: 0 auto"/></p>
<p>Click <em>Finish</em>.</p>
</li>
<li><p>A new module named <code>xwalk_core_library</code> will appear in the left column of the <em>Project Structure</em> panel.</p>
<p><img src="/assets/embedding-api8.png" style="display: block; margin: 0 auto"/></p>
</li>
<li><p>Select the <em>app</em> module in the left column and then select the <em>Dependencies</em> tab in the right.</p>
<p><img src="/assets/embedding-api9.png" style="display: block; margin: 0 auto"/></p>
<p>Click the + button at the top-right corner and select 3 <em>Module dependency</em>.</p>
</li>
<li><p>In the <em>Choose Modules</em> panel, select <em>xwalk_core_library</em>.</p>
<p><img src="/assets/embedding-api10.png" style="display: block; margin: 0 auto"/></p>
<p>Click OK.</p>
</li>
<li><p>The <code>xwalk_core_library</code> should appear in the dependency list of current project.</p>
<p><img src="/assets/embedding-api11.png" style="display: block; margin: 0 auto"/></p>
<p>Click OK.</p>
</li>
</ol>
<p>The reference to the Crosswalk Project runtime should now be added to your project.</p>
<h2>Add code to integrate the Crosswalk webview</h2>
<h3>Add necessary permissions</h3>
<p>Crosswalk requires a few permissions to be enabled on Android. To enable these, modify the <code>AndroidManifest.xml</code> file, adding permission lines before the <code>&lt;application&gt;</code> element. </p>
<p>The minimal permissions required for the Crosswalk webview to render pages are:</p>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;</code></pre>
<p>If you want to take advantage of download mode, the following permissions is required:</p>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.DOWNLOAD_WITHOUT_NOTIFICATION&quot; /&gt;</code></pre>
<p>Depending on the features of your app, you may need to request additional permissions. It is considered good security practice on Android to request only those permissions that your app actually needs.</p>
<h4>Accessing Location Information</h4>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;</code></pre>
<h4>Accessing Camera, Video and Microphone:</h4>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;</code></pre>
<h4>Writing data to SD Card:</h4>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;</code></pre>
<h4>Keeping Screen On:</h4>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;</code></pre>
<h2>Edit the layout file</h2>
<p>When the application was generated, some default layout resources were added to the project. Add a single <code>XWalkView</code> (Crosswalk webview) resource to a proper place in the main layout resource file (<code>res/layout/activity_main.xml</code>) like this:</p>
<pre><code>&lt;org.xwalk.core.XWalkView
        android:id=&quot;@+id/xwalkview&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot; /&gt;</code></pre>
<h2>Edit the Activity class</h2>
<p>There are three running modes of Crosswalk webview: <a href="/documentation/shared_mode.html">embedded mode, shared mode and download mode</a>. The next sections describe each of these. For more details of each class, please refer to the <a href="/documentation/apis/embedding_api.html">Embedding API page</a>.</p>
<p>While following the instructions below, the developer who is familiar with Android WebView would notice that the usage of Crosswalk webview has some differences. That is because, unlike Android webview, the Crosswalk Project runtime hasn’t been prepared yet at the moment the activity is created, so there will be an extra process for initializing the Crosswalk environment. Before it is ready, you can’t arbitrarily use the embedding API. </p>
<ol>
<li><p>Embedded Mode/Shared Mode</p>
<p>The embedded mode and shared mode can share the same code, the only difference is which AAR file to be imported. There are two types of interfaces: <code>XWalkActivity</code> is an all-in-one interface and easily-used, <code>XWalkInitializer/XWalkUpdater</code> is more professional and gives the developer more control.</p>
<ul>
<li><p>XWalkActivity</p>
<p><code>XWalkActivity</code> helps to execute all procedures to make the Crosswalk runtime workable and displays dialogs to interact with the user if needed. The activities that hold the <code>XWalkView</code> objects might want to extend <code>XWalkActivity</code> to obtain this capability. For those activities, there&#39;s no need to use <code>XWalkInitializer</code> and <code>XWalkUpdater</code>.</p>
<pre><code>public class MyActivity extends XWalkActivity {
XWalkView mXWalkView;

@Override
protected void onCreate(Bundle savedInstanceState) {
   super.onCreate(savedInstanceState);

   // Until onXWalkReady() is invoked, you should do nothing with the
   // embedding API except the following:
   // 1. Instanciate the XWalkView object
   // 2. Call XWalkPreferences.setValue()
   // 3. Call XWalkView.setUIClient()
   // 4. Call XWalkView.setResourceClient()
   setContentView(R.layout.activity_main);
   mXWalkView = (XWalkView) findViewById(R.id.xwalkview);
}

@Override
public void onXWalkReady() {
   // Do anyting with the embedding API
   mXWalkView.load(&quot;http://crosswalk-project.org/&quot;, null);
}
}</code></pre>
</li>
<li><p>XWalkInitializer</p>
<p><code>XWalkInitializer</code> is an alternative to <code>XWalkActivity</code> with the difference that it provides a way to initialize the Crosswalk Project runtime in background silently. Another advantage is that the developer can use their own activity class directly rather than having it extend <code>XWalkActivity</code>. However, <code>XWalkActivity</code> is still recommended because it makes the code simpler.</p>
<p>If the initialization failed, which means the Crosswalk runtime doesn&#39;t exist or doesn&#39;t match the app, you can use <code>XWalkUpdater</code> to prompt the user to download a suitable Crosswalk Project runtime.</p>
<pre><code>public class MyActivity extends Activity implements
  XWalkInitializer.XWalkInitListener {
XWalkView mXWalkView;
XWalkInitializer mXWalkInitializer;

@Override
protected void onCreate(Bundle savedInstanceState) {
   super.onCreate(savedInstanceState);

   // Must call initAsync() before anything that involes the embedding
   // API, including invoking setContentView() with the layout which 
   // holds the XWalkView object.

   mXWalkInitializer = new XWalkInitializer(this, this);
   mXWalkInitializer.initAsync();

   // Until onXWalkInitCompleted() is invoked, you should do nothing 
   // with the embedding API except the following:
   // 1. Instanciate the XWalkView object
   // 2. Call XWalkPreferences.setValue()
   // 3. Call XWalkView.setUIClient()
   // 4. Call XWalkView.setResourceClient()
   setContentView(R.layout.activity_xwalkview);
   mXWalkView = (XWalkView) findViewById(R.id.xwalkview);
}

@Override
public void onXWalkInitCompleted() {
   // Do anyting with the embedding API
   mXWalkView.load(&quot;http://crosswalk-project.org/&quot;, null);
}

@Override
public void onXWalkInitStarted() {
}

@Override
public void onXWalkInitCancelled() {
   // Perform error handling here
}

@Override
public void onXWalkInitFailed() {
   // Perform error handling here, or launch the XWalkUpdater
}
}</code></pre>
</li>
<li><p>XWalkUpdater</p>
<p><code>XWalkUpdater</code> is a follow-up solution for <code>XWalkInitializer</code> in case the initialization failed. The user of <code>XWalkActivity</code> doesn&#39;t need to use this class.</p>
<p><code>XWalkUpdater</code> helps to download the Crosswalk Project runtime and displays dialogs to interact with the user. By default, it will navigate to the location of the Crosswalk Project runtime in the default application store. The user must then take action to download it. If you specify the download URL of the Crosswalk runtime, it will automatically launch the download manager and fetch the APK. </p>
</li>
</ul>
</li>
</ol>
<p>After the proper Crosswalk Project runtime is downloaded and installed, the user will return to the current activity from the application store or the installer. The developer should check this point and invoke <code>XWalkInitializer.initAsync()</code> again to repeat the initialization process. Please note that from now on, the application will be running in shared mode.</p>
<pre><code>  ```</code></pre>
<p>public class MyActivity extends Activity implements
        XWalkInitializer.XWalkInitListener, 
        XWalkUpdater.XWalkUpdateListener {
     XWalkUpdater mXWalkUpdater;</p>
<pre><code> ...

 @Override
 protected void onResume() {
     super.onResume();

     // Try to initialize again when the user completed updating and 
     // returned to current activity. The initAsync() will do nothing if 
     // the initialization has already been completed successfully.
     mXWalkInitializer.initAsync();
 }

 @Override
 public void onXWalkInitFailed() {
     if (mXWalkUpdater == null) {
         mXWalkUpdater = new mXWalkUpdater(this, this);
     }

     // The updater won&#39;t be launched if previous update dialog is 
     // showing.
     mXWalkUpdater.updateXWalkRuntime();
 }

 @Override
 public void onXWalkUpdateCancelled() {
     // Perform error handling here
 }</code></pre>
<p> }</p>
<pre><code>  ```</code></pre>
<p>If you want the end-user to download the Crosswalk Project runtime from a specific URL instead of switching to the application store, add following <meta-data> element inside the <application> element:</p>
<pre><code>&lt;meta-data android:name=&quot;xwalk_apk_url&quot; 
           android:value=&quot;http://myhost/XWalkRuntimeLib.apk&quot; /&gt;</code></pre>
<ol>
<li><p>Download Mode</p>
<p>You need to use the combination of <code>XWalkInitializer</code> and <code>XWalkUpdater</code> to take advantage of download mode. But the usage is slightly different from the instruction above.</p>
<p>First, add the following <code>&lt;meta-data&gt;</code> element inside the <code>&lt;application&gt;</code> element:</p>
<pre><code>&lt;meta-data android:name=&quot;xwalk_apk_url&quot; 
       android:value=&quot;http://myhost/XWalkRuntimeLib.apk&quot; /&gt;
&lt;meta-data android:name=&quot;xwalk_enable_download_mode&quot; 
       android:value=&quot;enable&quot;/&gt;</code></pre>
<p>By default, the application will verify the signature of the downloaded Crosswalk Project runtime, which is required to be the same as the application. You can disable this by adding the following meta-data element:</p>
<pre><code>&lt;meta-data android:name=&quot;xwalk_verify&quot; android:value=&quot;disable&quot;/&gt;</code></pre>
<p>Then edit the <code>Activity</code> class like this:</p>
<pre><code>public class MyActivity extends Activity
    implements XWalkInitializer.XWalkInitListener, XWalkUpdater.XWalkBackgroundUpdateListener {
XWalkInitializer mXWalkInitializer;
XWalkUpdater mXWalkUpdater;

XWalkView mXWalkView;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    mXWalkInitializer = new XWalkInitializer(this, this);
    mXWalkInitializer.initAsync();

    setContentView(R.layout.activity_main);
    mXWalkView = (XWalkView) findViewById(R.id.xwalkview);
}

@Override
protected void onResume() {
    super.onResume();
    mXWalkInitializer.initAsync();
}

@Override
public void onXWalkInitStarted() {
}

@Override
public void onXWalkInitCancelled() {
    finish();
}

@Override
public void onXWalkInitFailed() {
    if (mXWalkUpdater == null) mXWalkUpdater = new XWalkUpdater(this, this);
    mXWalkUpdater.updateXWalkRuntime();
}

@Override
public void onXWalkInitCompleted() {
    mXWalkView.load(&quot;file:///android_asset/create_window_1.html&quot;, null);
}

@Override
public void onXWalkUpdateStarted() {
}

@Override
public void onXWalkUpdateProgress(int percentage) {
}

@Override
public void onXWalkUpdateCancelled() {
    finish();
}

@Override
public void onXWalkUpdateFailed() {
    finish();
}

@Override
public void onXWalkUpdateCompleted() {
    mXWalkInitializer.initAsync();
}
}</code></pre>
</li>
</ol>
<h2>Debugging Crosswalk webview</h2>
<p>To enable debugging of the web application running in an embedded Crosswalk webview, modify the <code>Activity</code> class like this:</p>
<pre><code>public class MyActivity extends XWalkActivity {
     XWalkView mXWalkView;

     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);

         XWalkPreferences.setValue(XWalkPreferences.REMOTE_DEBUGGING, true);
         setContentView(R.layout.activity_main);
         mXWalkView = (XWalkView) findViewById(R.id.xwalkview);
     }

     ...
 }</code></pre>

  <footer class="article-next">
    



  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


  </footer>
</article>

          
        </div>
      </div>
    </div>
    

    
 
  <hr class="footer-divider" style="margin-top:125px; margin-bottom:0px" />
    <div style="position:relative; top:-30px;">
       <a href="/"><img src="/assets/cw-logo-circle.png" width="60px" style="display:block; margin: 0 auto;" /></a>
    </div>
    <footer class="footer footer--documentation" >
      <div class="container" >
        <div class="row">
          <div  class="footer-div" language="en">
          <img src="/assets/Twitter_logo_blue.png" width="20px" /> Follow  <a href="http://twitter.com/xwalk_project">@xwalk_project on Twitter</a> for the latest developer activities and project updates.
          </div>
           <div  class="footer-div" language="zh" style="display:none">
           <img src="/assets/Sina_Weibo_Blue.png" width="60px" /> 参考<a href="http://weibo.com/crosswalk">微博</a> 最新的开发者活动或者更新。
          </div>
          <div class="footer-div">
             Latest blog post:</br>
              
              
                <b><a href="/blog">Guest blog post: Monaca, Onsen UI and Crossawlk</a></b><br/>
                &nbsp;(<span ><time class="js-vagueTime" datetime="Tue, 11 Oct 2016 09:30:00 GMT">2016-10-11T09:30</time></span>)
              
              <br/>
           </div>
          <div class="footer-div">
              <strong><a href="/feed.xml"><img src="/assets/rss-icon-16.gif" style="vertical-align:middle" /> RSS Feed</a></strong>
          </div>
          <div class="footer-div">
             <a href="/documentation/getting_started.html"> Documentation</a> &nbsp;
             <a href="/blog"> Blog</a> &nbsp;
             <a href="/documentation/downloads.html"> Downloads</a> <br />
             <a href="https://crosswalk-project.org/jira/secure/Dashboard.jspa"> Issues</a> &nbsp;
             <a href="https://github.com/crosswalk-project"> GitHub Source</a> &nbsp;
             <a href="/sitemap.html">Sitemap</a> <br/>
          </div>
        </div>
        <div class="row">
            <small>
              The Crosswalk Project was created by the Intel Open Source Technology Center. Copyright © 2013–2016 Intel Corporation. All right reserved. <a href="https://github.com/crosswalk-project/crosswalk-website/wiki/Privacy-Policy">  Privacy policy </a>  *Other names and brands may be claimed as the property of others.
            </small>
        </div>
      </div>
    </footer>
<script>
    $("[language=en]").css("display","none");
    $("[language=en]").css("display","block");
</script>

    
    
      <!-- Google Tag Manager -->
      <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WC843Q"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-WC843Q');</script>
      <!-- End Google Tag Manager -->
    
    <script src="/js/smoothScroll.js"></script>
    <script src="/js/vagueTime.js"></script>
    <!-- <script async defer src="/js/trmix.js"></script> -->
  </body>
</html>
