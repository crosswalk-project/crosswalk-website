<!DOCTYPE html>
<html id="top">
  <head>
    <meta charset="utf-8">
    <title>The Crosswalk Project</title>
    <link rel="shorcut icon" href="/assets/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
    <script>
      WebFontConfig = {
        custom: {
          families: ['Clear Sans'],
          urls: ['/css/fonts.css']
        },
        google: {
          families: ['Source Code Pro:n4,n6']
        },
        timeout: 2000
      };
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script async defer src="//ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js"></script>
    <link rel="stylesheet" href="/css/main.css">

    <meta name="description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="author" content="Crosswalk" />
    <meta name="handheldfriendly" content="true" />
    <meta name="mobileoptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="cleartype" content="on" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Facebook -->
    <meta property="og:side_name" content="Crosswalk" />
    <meta property="og:title" content="Crosswalk" />
    <meta property="og:url" content="http://crosswalk-project.org/documentation/android/run_on_android_make_apk" />
    <meta property="og:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta property="og:image" content="/assets/crosswalk-og-banner.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:url" content="http://crosswalk-project.org/documentation/android/run_on_android_make_apk" />
    <meta name="twitter:title" content="Crosswalk" />
    <meta name="twitter:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="twitter:site" content="@xwalk_project" />

    <!-- Relevant original Crosswalk Project JS -->
    <script src="/js/utils.js"></script>
    <script src="/js/xwalk.js"></script>
    <script src="/js/versions.js"></script>
    <script src="/js/demos.js"></script>
    <script src="/js/testimonials.js"></script>
    <script src="/js/tools.js"></script>
    <script src="/js/qualityindicators.js"></script>
    <script src="/js/i18n.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <!-- If curr page named 'index' and less than 2 dirs deep,
         do custom layouts. (home screen, blog, app-mgmt page)
         Else, provide doc header and nav. -->
    
    <div class="container">
      <div class="doc-header">
        


  <div class="doc-logo-div">
     <a href="/" class="doc-logo-link">
       <img src="/assets/identity/crosswalkproject-logo-horizontal-dark.png" class="doc-logo-img">
     </a>
  </div>
  <div class="doc-nav-div">
    <ul class="doc-nav-list">
      <li class="doc-nav-item">
        <a href="/documentation/getting_started.html" class="doc-nav-link">Documentation</a>
      </li>
      <li class="doc-nav-item">
        <a href="/blog" class="doc-nav-link">Blog</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/contribute" class="doc-nav-link">Contribute</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="https://github.com/crosswalk-project/crosswalk-website/wiki" class="doc-nav-link">Wiki</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/documentation/about/faq.html" class="doc-nav-link">FAQ</a>
      </li>
      <li class="doc-nav-item">
	<span class="i18n-label" id="i18n-label">
	  <span id="i18n-inner">
	    <img src="/assets/i18n-globe.png" class="i18n-globe" />
	    English
	    <img src="/assets/i18n-arrow.png" class="i18n-arrow"/>
	  </span>
	  <div id="i18n-menu" class="i18n-menu i18n-menu-light">
            <a onclick="switchLanguage('English')">English</a>
            <a onclick="switchLanguage('Chinese')">中文版</a>
	  </div>
	</span>
      </li>
    </ul>
  </div>
  

      </div>
      <br />
      <div class="doc-main">
        <div class="row">
          
          <div id="translation-missing-toaster">
  <p style="padding:10px"> 抱歉，该网页目前还不存在中文版本，请继续浏览其他网页！ </p>
</div>

          



<nav id="contents" class="article-toc nav-toggleContainer">
  <a href="#contents" id="contents-toggle" class="button button--small button--tertiary nav-toggle">Table of Contents</a>
  <a href="./#contents-toggle" class="button button--small button--tertiary nav-toggle--dummy">Table of Contents</a>
  <ul class="article-list nav-toggleHide">
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/about.html">About</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/getting_started.html">Getting Started</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/crosswalk-app-tools.html">Crosswalk App Tools</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/android.html">Android</a>
        
            <ul class="article-list">
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/system_setup.html">System setup</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/build_an_application.html">Build an application</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/run_on_android.html">Run on Android</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/android_remote_debugging.html">Remote debugging</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/deploy_to_android_store.html">Deploy to Android store</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/android_64bit.html">64-bit Support</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/android_extensions.html">Android extensions</a>
                
              </li>
            
              <li class="article-item ">
                <a class="article-link" href="/documentation/android/embedding_crosswalk.html">Embedding Crosswalk</a>
                
              </li>
            
            </ul>
          
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/ios.html">iOS</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/windows.html">Windows</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/linux.html">Linux</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/cordova.html">Cordova</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/tizen.html">Tizen</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/manifest.html">Manifest</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/apis.html">APIs</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/downloads.html">Downloads</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/shared_mode.html">Shared Mode</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/download_mode.html">Download Mode</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/crosswalk_lite.html">Crosswalk Lite</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/tutorials.html">Tutorials</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/samples.html">Samples</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/community.html">Community</a>
        
        </li>
    
        <li class="article-item ">
        <a class="article-link" href="/documentation/qa.html">Quality Assurance</a>
        
        </li>
    
  </ul>

</nav>

<article class="article article--hasToC">
  <h1>Running a Crosswalk app on Android</h1>
<p>The Crosswalk Android download contains a Python script which can be used to make a self-contained package (<code>.apk</code> file) from an HTML5 application. See the host set up instructions (<a href="/documentation/android/windows_host_setup.html#Download-the-Crosswalk-Android-app-template">Windows</a> / <a href="/documentation/android/linux_host_setup.html#Download-the-Crosswalk-Android-app-template">Linux</a>) for details.</p>
<p>Once you have downloaded and unpacked Crosswalk Android, create the <code>apk</code> packages for your application as follows:</p>
<ol>
<li><p>Go to the unpacked Crosswalk Android directory:</p>
<pre><code>&gt; cd crosswalk-${XWALK-STABLE-ANDROID-X86}</code></pre>
</li>
<li><p>Run the <code>make_apk.py</code> script with Python as follows:</p>
<pre><code>&gt; python make_apk.py --package=org.crosswalkproject.example \
    --manifest=xwalk-simple/manifest.json</code></pre>
<p>This will package the application defined in the specified <code>manifest.json</code> file and produce two apk files from it, one for x86 architecture and one for ARM. The apk files will end up in the directory where you ran the script. Each file is given the name set in the manifest, with any filesystem-sensitive characters removed and an architecture identifier (&quot;x86&quot; or &quot;arm&quot;) appended. For our example, the output files are <code>simple_x86.apk</code> and <code>simple_arm.apk</code>.</p>
<p>Please specify --app-versionCode or --app-versionCodeBase, otherwise android:versionCode will be generated based on android:versionName. For example, versionName &quot;3.2.1&quot; will get versionCode: ABI prefix + &quot;0302001&quot;.</p>
</li>
<li><p>Install the application on the target.</p>
<p>If installing on an x86 device:</p>
<pre><code>&gt; adb install -r simple_x86.apk</code></pre>
<p>If installing on an ARM device:</p>
<pre><code>&gt; adb install -r simple_arm.apk</code></pre>
<p>The <code>-r</code> flag stands for &quot;reinstall&quot;. It is not required for the first installation, but useful for subsequent reinstalls of the same package.</p>
</li>
</ol>
<p>If the installation is successful, your application should now be on the Android target. Find its icon in the application list and open it. Here it is running on a ZTE Geek phone:</p>
<p><img src="/assets/xwalk-simple-on-android.png"></p>
<h2 id="shared-vs-embedded-mode">Shared vs. embedded mode</h2>

<p>Above, we packaged the application using the default <em>embedded</em> mode (the Crosswalk runtime is bundled with the application). This creates two apk files, one for Intel architecture devices, and a second for ARM devices.</p>
<p>However, it is also possible to package an application in <em>shared</em> mode. In this mode, the apk is architecture-independent; but a separate Crosswalk runtime also has to be installed on the target to run the application.</p>
<p>Each of these modes has its own pros and cons:</p>
<ul>
<li><p><em>Embedded</em></p>
<p>In embedded mode packaging, each web app is bundled with the full Crosswalk runtime. Since the Crosswalk runtime needs an architecture-dependent native library, two Android apks need to be generated for embedded mode: one for targets with Intel architecture (x86) and another for ARM targets. The <code>make_apk.py</code> script used in this tutorial generates a package for each architecture by default, as explained above.</p>
<p>The advantage is that you can keep a tight dependency between Crosswalk and the application, so you can ensure that the correct Crosswalk version is used. (In shared mode, you would have to ensure that the user had the correct runtime version available.)</p>
<p>The disadvantage is that the generated apk is significantly larger, as it contains the whole Crosswalk runtime inside it.</p>
</li>
<li><p><em>Shared</em></p>
<p>In shared mode packaging, each web app is bundled with a thin layer of Java code which is architecture-independent. This produces a much smaller apk file. However, to run this shared mode application, a separate, architecture-dependent Crosswalk runtime also has to be installed on the target. Again, one runtime is required for each architecture (one for x86, one for ARM); but, unlike embedded mode, multiple applications can share this single runtime.</p>
<p>The advantage is that one Crosswalk runtime library can support multiple shared mode applications: valuable if you are using Crosswalk to deploy multiple applications on the same Crosswalk version, as it reduces the size of each application apk.</p>
<p>Another advantage is that you can upgrade the runtime for multiple applications by upgrading one shared Crosswalk runtime package. By contrast, in embedded mode, upgrading the runtime requires you to upgrade each application at the same time: so moving to a newer runtime for multiple applications means upgrading each of those applications separately.</p>
<p>The disadvantage is that you must distribute apks both for your web applications and for the Crosswalk runtime.</p>
</li>
</ul>
<p>To make a shared mode apk, pass the <code>--mode=shared</code> option to the <code>make_apk.py</code> script, for example:</p>
<pre><code>&gt; python make_apk.py --mode=shared --package=com.intel.xwalk-simple \
    --manifest=xwalk-simple/manifest.json</code></pre>
<p>Note that the <code>--package</code> option is mandatory and should be set to the Java package name for your application.</p>
<p>To deploy a shared mode application, you will need to install architecture-specific runtime apks on the target. These can be found in the Crosswalk Android downloads area, under the <code>arm/</code> and <code>x86/</code> directories. For example, the apks for the latest stable versions are in these files:</p>
<ul>
<li><a href="https://download.01.org/crosswalk/releases/crosswalk/android/stable/${XWALK-STABLE-ANDROID-ARM}/arm/crosswalk-apks-${XWALK-STABLE-ANDROID-ARM}-arm.zip">ARM</a></li>
<li><a href="https://download.01.org/crosswalk/releases/crosswalk/android/stable/${XWALK-STABLE-ANDROID-X86}/x86/crosswalk-apks-${XWALK-STABLE-ANDROID-X86}-x86.zip">Intel (x86)</a></li>
</ul>

  <footer class="article-next">
    



  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


  </footer>
</article>

          
        </div>
      </div>
    </div>
    

    
 
  <hr class="footer-divider" style="margin-top:125px; margin-bottom:0px" />
    <div style="position:relative; top:-30px;">
       <a href="/"><img src="/assets/cw-logo-circle.png" width="60px" style="display:block; margin: 0 auto;" /></a>
    </div>
    <footer class="footer footer--documentation" >
      <div class="container" >
        <div class="row">
          <div  class="footer-div" language="en">
          <img src="/assets/Twitter_logo_blue.png" width="20px" /> Follow  <a href="http://twitter.com/xwalk_project">@xwalk_project on Twitter</a> for the latest developer activities and project updates.
          </div>
           <div  class="footer-div" language="zh" style="display:none">
           <img src="/assets/Sina_Weibo_Blue.png" width="60px" /> 参考<a href="http://weibo.com/crosswalk">微博</a> 最新的开发者活动或者更新。
          </div>
          <div class="footer-div">
             Latest blog post:</br>
              
              
                <b><a href="/blog">WebCL APIs removed from Crosswalk 22</a></b><br/>
                &nbsp;(<span ><time class="js-vagueTime" datetime="Tue, 30 Aug 2016 09:30:00 GMT">2016-08-30T09:30</time></span>)
              
              <br/>
           </div>
          <div class="footer-div">
              <strong><a href="/feed.xml"><img src="/assets/rss-icon-16.gif" style="vertical-align:middle" /> RSS Feed</a></strong>
          </div>
          <div class="footer-div">
             <a href="/documentation/getting_started.html"> Documentation</a> &nbsp;
             <a href="/blog"> Blog</a> &nbsp;
             <a href="/documentation/downloads.html"> Downloads</a> <br />
             <a href="https://crosswalk-project.org/jira/secure/Dashboard.jspa"> Issues</a> &nbsp;
             <a href="https://github.com/crosswalk-project"> GitHub Source</a> &nbsp;
             <a href="/sitemap.html">Sitemap</a> <br/>
          </div>
        </div>
        <div class="row">
            <small>
              The Crosswalk Project was created by the Intel Open Source Technology Center. Copyright © 2013–2016 Intel Corporation. All right reserved. <a href="https://github.com/crosswalk-project/crosswalk-website/wiki/Privacy-Policy">  Privacy policy </a>  *Other names and brands may be claimed as the property of others.
            </small>
        </div>
      </div>
    </footer>
<script>
    $("[language=en]").css("display","none");
    $("[language=en]").css("display","block");
</script>

    
    
      <!-- Google Tag Manager -->
      <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WC843Q"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-WC843Q');</script>
      <!-- End Google Tag Manager -->
    
    <script src="/js/smoothScroll.js"></script>
    <script src="/js/vagueTime.js"></script>
    <!-- <script async defer src="/js/trmix.js"></script> -->
  </body>
</html>
